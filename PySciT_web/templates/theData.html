<!-- A Data Page
    With a summary of the Status and some important buttons links
 -->
{% extends "base.html" %}
{% block CSSs %}
<link rel="stylesheet" href="{{ url_for('static', filename='styles/tables.css')}}">
{% endblock %}
{% block infoWindow %}
<title>PySciT -A Datas</title>
{% endblock %}
{% block mainBody %}
<div class="objectLine allExpand">
    <button class="left aButton b3 s16 yesPadding yesMargin" onclick="location.href='/datas/'">
        <div class="objectLine">
            &#8617;
            <div class="objectLine">
                Back to <br /> Data Menu
            </div>
        </div>
    </button>
    <h1>Data {{numData}}: <span id="theDataName">{{theData.Name}}</span></h1>
</div>
<div class="aform allExpand">
    <!-- <form action="/datas/new/" method="post" class="aform allExpand"> -->
    <div class=" objectLine alingTop preview yesMargin">
        {% if (theData.Data.index|length) != 0 %}
        <div class=" allExpand  textLeft">
            <span> Data preview (total: {{theData.Data.index|length}} rows) </span>
        </div>
        <div class="dataframe">
            {{theData.Data[:31].to_html() | safe}}
            {% else %}
            This data is empty
            {% endif %}
        </div>
    </div>
    <div class="yesMargin objectLine alingTop textCenter">
        <div class="yesMargin objectLine ">
            <div class="objectLine">
                <label for="newName">Data's name:</label> <br>
                <input type="text" name="newName" id="newName" value="{{theData.Name}}" maxlength="100">
                <button class="aButton b3 right roundBorder yesPadding" onclick="changeNameData()">
                    Change name
                </button>
            </div>
            <div class="err" id="errDataSection"></div>
            <div class="yesMargin">
                <button class="aButton b2 roundBorder yesPadding yesMargin s16" onclick="location.href='/datas/get{{numData}}/download'">
                    Download CSV
                </button>
            </div>
        </div>
        <!-- <div class="yesPadding ">
            <div class=" allExpand  textLeft">
                <div class="objectLine right">
                    <button id="toggleModify" class="aButton b3 right" onclick="toggleModify()">
                        Add Transformation
                    </button>
                </div>
            </div>
            <table id="" class="fixTable textCenter ">
                <thead>
                    <tr class="s18">
                        <th class="minCol cell110">Tr</th>
                        <th class="minSmallCol cell1">Transformation's history</th>
                    </tr>
                </thead>
                <tbody>
                    {% for aDataTr in theData.history %}
                    <tr id="TRANSF-{{loop.index0}}">
                        <td class="minCol cell110">{{loop.index0}}</td>
                        <td class="minSmallCol cell1">{{ aDataTr }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div> -->
    </div>
</div>

{% endblock %}


{% block funcionesJS %}
<script src="{{url_for('static', filename='js/datas.js')}}" defer>
</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
    var numData = '{{ numData }}';
    // var hasAlgorithm = parseInt('{{ theData.hasAlgorithm }}');
</script>
<!-- <script type="text/javascript"> -->

{% endblock %}